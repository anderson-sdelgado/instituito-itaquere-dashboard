{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSortUp}from'@fortawesome/free-solid-svg-icons';import{Button,Modal}from'react-bootstrap';import axios from'axios';import Documento from'../../../models/documento.model';import{jsx as _jsx}from\"react/jsx-runtime\";function UpDocumento(props){var API_URL_UPDATE_DOCUMENTO='http://localhost/restful/documento/';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),messagem=_useState2[0],setMessagem=_useState2[1];function handleUpDocumento(_x){return _handleUpDocumento.apply(this,arguments);}function _handleUpDocumento(){_handleUpDocumento=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var novoDocumento,formData,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;novoDocumento=new Documento('',props.documento.secao,props.documento.posicao);formData=new FormData();formData.append('data',JSON.stringify(novoDocumento));formData.append('method','up');_context.next=8;return axios.post(API_URL_UPDATE_DOCUMENTO+props.documento.codigo,formData);case 8:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setMessagem(data);console.log(messagem);if(data.status==='success'){setMessagem(data);console.log(messagem);props.setCarregarBalancetes(true);}else{setMessagem(\"Erro Up do Registro: \"+data);console.log(messagem);}_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);setMessagem(\"Erro Up do Registro: \"+_context.t0.message);console.log(messagem);case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));return _handleUpDocumento.apply(this,arguments);}return/*#__PURE__*/_jsx(FontAwesomeIcon,{className:'btn btn-outline-dark btn-sm',onClick:handleUpDocumento,icon:faSortUp});}export default UpDocumento;","map":{"version":3,"names":["useState","FontAwesomeIcon","faSortUp","Button","Modal","axios","Documento","UpDocumento","props","API_URL_UPDATE_DOCUMENTO","messagem","setMessagem","handleUpDocumento","event","preventDefault","novoDocumento","documento","secao","posicao","formData","FormData","append","JSON","stringify","post","codigo","data","console","log","status","setCarregarBalancetes","message"],"sources":["C:/Users/anderson/Documents/instituto-itaquere/dashboard/src/components/balancetes/lista/up-documento.js"],"sourcesContent":["import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {  \r\n    faSortUp\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { \r\n    Button,\r\n    Modal\r\n} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport Documento from '../../../models/documento.model';\r\n\r\nfunction UpDocumento(props) {\r\n\r\n    const API_URL_UPDATE_DOCUMENTO = 'http://localhost/restful/documento/';\r\n\r\n    const [messagem, setMessagem] = useState('');\r\n    \r\n    async function handleUpDocumento(event){\r\n        event.preventDefault();\r\n        try {\r\n            const novoDocumento = new Documento('', props.documento.secao, props.documento.posicao);\r\n            const formData = new FormData();\r\n            formData.append('data', JSON.stringify(novoDocumento));\r\n            formData.append('method', 'up');\r\n            let { data } = await axios.post(API_URL_UPDATE_DOCUMENTO + props.documento.codigo, formData);\r\n            setMessagem(data);\r\n            console.log(messagem);\r\n            if(data.status==='success'){\r\n                setMessagem(data);\r\n                console.log(messagem);\r\n                props.setCarregarBalancetes(true);\r\n            } else {\r\n                setMessagem(\"Erro Up do Registro: \" + data);\r\n                console.log(messagem);\r\n            }\r\n        } catch(err) {\r\n            setMessagem(\"Erro Up do Registro: \" + err.message);\r\n            console.log(messagem);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <FontAwesomeIcon\r\n            className={'btn btn-outline-dark btn-sm'}\r\n            onClick={handleUpDocumento}\r\n            icon={faSortUp} />\r\n    );\r\n}\r\n\r\nUpDocumento.propTypes = {\r\n    documento: PropTypes.object.isRequired,\r\n    setCarregarBalancetes: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UpDocumento;"],"mappings":"0bAAA,OAASA,QAAT,KAAyB,OAAzB,CAEA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OACIC,QADJ,KAEO,mCAFP,CAGA,OACIC,MADJ,CAEIC,KAFJ,KAGO,iBAHP,CAIA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,UAAP,KAAsB,iCAAtB,C,2CAEA,QAASC,YAAT,CAAqBC,KAArB,CAA4B,CAExB,GAAMC,yBAAwB,CAAG,qCAAjC,CAEA,cAAgCT,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eAJwB,QAMTC,kBANS,iKAMxB,iBAAiCC,KAAjC,sKACIA,KAAK,CAACC,cAAN,GADJ,gBAGcC,aAHd,CAG8B,GAAIT,UAAJ,CAAc,EAAd,CAAkBE,KAAK,CAACQ,SAAN,CAAgBC,KAAlC,CAAyCT,KAAK,CAACQ,SAAN,CAAgBE,OAAzD,CAH9B,CAIcC,QAJd,CAIyB,GAAIC,SAAJ,EAJzB,CAKQD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBC,IAAI,CAACC,SAAL,CAAeR,aAAf,CAAxB,EACAI,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0B,IAA1B,EANR,sBAO6BhB,MAAK,CAACmB,IAAN,CAAWf,wBAAwB,CAAGD,KAAK,CAACQ,SAAN,CAAgBS,MAAtD,CAA8DN,QAA9D,CAP7B,wCAOcO,IAPd,mBAOcA,IAPd,CAQQf,WAAW,CAACe,IAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYlB,QAAZ,EACA,GAAGgB,IAAI,CAACG,MAAL,GAAc,SAAjB,CAA2B,CACvBlB,WAAW,CAACe,IAAD,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYlB,QAAZ,EACAF,KAAK,CAACsB,qBAAN,CAA4B,IAA5B,EACH,CAJD,IAIO,CACHnB,WAAW,CAAC,wBAA0Be,IAA3B,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYlB,QAAZ,EACH,CAjBT,iFAmBQC,WAAW,CAAC,wBAA0B,YAAIoB,OAA/B,CAAX,CACAJ,OAAO,CAACC,GAAR,CAAYlB,QAAZ,EApBR,qEANwB,oDA8BxB,mBACI,KAAC,eAAD,EACI,SAAS,CAAE,6BADf,CAEI,OAAO,CAAEE,iBAFb,CAGI,IAAI,CAAEV,QAHV,EADJ,CAMH,CAOD,cAAeK,YAAf"},"metadata":{},"sourceType":"module"}