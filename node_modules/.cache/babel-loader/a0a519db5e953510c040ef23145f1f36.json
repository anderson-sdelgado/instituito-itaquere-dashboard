{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{Button,Modal}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RemoverNoticia(props){var API_URL_REMOVER_NOTICIA='http://localhost/restful/noticias/';var _useState=useState(false),_useState2=_slicedToArray(_useState,2),exibirModal=_useState2[0],setExibirModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),exibirModalSucesso=_useState4[0],setExibirModalSucesso=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),exibirModalErro=_useState6[0],setExibirModalErro=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),messagem=_useState8[0],setMessagem=_useState8[1];function handleAbrirModal(event){event.preventDefault();setExibirModal(true);}function handleFecharModal(){setExibirModal(false);}function handleFecharModalSucesso(){setExibirModalSucesso(false);props.setRecarregarNoticias(true);}function handleFecharModalErro(){setExibirModalErro(false);props.setRecarregarNoticias(true);}function handleRemoverNoticia(_x){return _handleRemoverNoticia.apply(this,arguments);}function _handleRemoverNoticia(){_handleRemoverNoticia=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.delete(API_URL_REMOVER_NOTICIA+props.noticia.codigo);case 4:_yield$axios$delete=_context.sent;data=_yield$axios$delete.data;setExibirModal(false);if(data.status==='success'){setMessagem(data.response);setExibirModalSucesso(true);}else{setMessagem(\"Erro na Exclusão do Registro: \"+data.response);setExibirModalErro(true);}_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setExibirModal(false);setMessagem(\"Erro na Exclusão do Registro: \"+_context.t0.message);setExibirModalErro(true);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _handleRemoverNoticia.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{className:'btn btn-danger btn-sm',onClick:handleAbrirModal,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrashAlt})}),/*#__PURE__*/_jsxs(Modal,{show:exibirModal,onHide:handleFecharModal,\"data-testid\":\"modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Remover Not\\xEDcia\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[\"Deseja realmente remover a seguinte not\\xEDcia?\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:props.noticia.titulo})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleRemoverNoticia,\"data-testid\":\"btn-remover\",children:\"Sim\"}),/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:handleFecharModal,\"data-testid\":\"btn-fechar-modal\",children:\"N\\xE3o\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:exibirModalSucesso,onHide:handleFecharModalSucesso,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Sucesso\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:messagem}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleFecharModalSucesso,children:\"Continuar\"})})]}),/*#__PURE__*/_jsxs(Modal,{show:exibirModalErro,onHide:handleFecharModalErro,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Erro\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:messagem}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:handleFecharModalErro,children:\"Fechar\"})})]})]});}export default RemoverNoticia;","map":{"version":3,"names":["useState","FontAwesomeIcon","faTrashAlt","Button","Modal","axios","RemoverNoticia","props","API_URL_REMOVER_NOTICIA","exibirModal","setExibirModal","exibirModalSucesso","setExibirModalSucesso","exibirModalErro","setExibirModalErro","messagem","setMessagem","handleAbrirModal","event","preventDefault","handleFecharModal","handleFecharModalSucesso","setRecarregarNoticias","handleFecharModalErro","handleRemoverNoticia","delete","noticia","codigo","data","status","response","message","titulo"],"sources":["C:/Users/anderson/Documents/instituto-itaquere/dashboard/src/components/noticias/tabela/remover-noticia.js"],"sourcesContent":["import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {  \r\n    faTrashAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { \r\n    Button,\r\n    Modal\r\n} from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nfunction RemoverNoticia(props) {\r\n\r\n    const API_URL_REMOVER_NOTICIA = 'http://localhost/restful/noticias/';\r\n\r\n    const [exibirModal, setExibirModal] = useState(false);\r\n    const [exibirModalSucesso, setExibirModalSucesso] = useState(false);\r\n    const [exibirModalErro, setExibirModalErro] = useState(false);\r\n    const [messagem, setMessagem] = useState('');\r\n    \r\n    function handleAbrirModal(event){\r\n        event.preventDefault();\r\n        setExibirModal(true);\r\n    }\r\n\r\n    function handleFecharModal(){\r\n        setExibirModal(false);\r\n    }\r\n\r\n    function handleFecharModalSucesso(){\r\n        setExibirModalSucesso(false);\r\n        props.setRecarregarNoticias(true);\r\n    }\r\n\r\n    function handleFecharModalErro(){\r\n        setExibirModalErro(false);\r\n        props.setRecarregarNoticias(true);\r\n    }\r\n\r\n    async function handleRemoverNoticia(event){\r\n        event.preventDefault();\r\n        try {\r\n            let { data } = await axios.delete(API_URL_REMOVER_NOTICIA + props.noticia.codigo);\r\n            setExibirModal(false);\r\n            if(data.status==='success'){\r\n                setMessagem(data.response);\r\n                setExibirModalSucesso(true);\r\n            } else {\r\n                setMessagem(\"Erro na Exclusão do Registro: \" + data.response);\r\n                setExibirModalErro(true);\r\n            }\r\n        } catch(err) {\r\n            setExibirModal(false);\r\n            setMessagem(\"Erro na Exclusão do Registro: \" + err.message);\r\n            setExibirModalErro(true);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <div>\r\n            <Button \r\n                className={'btn btn-danger btn-sm'}\r\n                onClick={handleAbrirModal} >\r\n                <FontAwesomeIcon icon={faTrashAlt} />\r\n            </Button>\r\n            <Modal \r\n                show={exibirModal} \r\n                onHide={handleFecharModal} \r\n                data-testid=\"modal\" >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        Remover Notícia\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Deseja realmente remover a seguinte notícia?\r\n                    <br />\r\n                    <strong>{props.noticia.titulo}</strong>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"primary\" \r\n                        onClick={handleRemoverNoticia}\r\n                        data-testid=\"btn-remover\" >\r\n                        Sim\r\n                    </Button>\r\n                    <Button \r\n                        variant=\"light\" \r\n                        onClick={handleFecharModal}\r\n                        data-testid=\"btn-fechar-modal\" >\r\n                        Não\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            <Modal \r\n                show={exibirModalSucesso} \r\n                onHide={handleFecharModalSucesso} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        Sucesso\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {messagem}\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"success\"\r\n                        onClick={handleFecharModalSucesso}>\r\n                        Continuar\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            <Modal \r\n                show={exibirModalErro} \r\n                onHide={handleFecharModalErro}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        Erro\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {messagem}\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button \r\n                        variant=\"warning\"\r\n                        onClick={handleFecharModalErro}>\r\n                        Fechar\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nRemoverNoticia.propTypes = {\r\n    noticia: PropTypes.object.isRequired,\r\n    setRecarregarNoticias: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default RemoverNoticia;"],"mappings":"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"},"metadata":{},"sourceType":"module"}