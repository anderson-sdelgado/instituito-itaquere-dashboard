{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/anderson/Documents/instituto-itaquere/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSortDown}from'@fortawesome/free-solid-svg-icons';import{Button,Modal}from'react-bootstrap';import axios from'axios';import Documento from'../../../models/documento.model';import{jsx as _jsx}from\"react/jsx-runtime\";function DownDocumento(props){var API_URL_UPDATE_DOCUMENTO='http://www.institutoitaquere.org.br/restful/documento/';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),messagem=_useState2[0],setMessagem=_useState2[1];function handleDownDocumento(_x){return _handleDownDocumento.apply(this,arguments);}function _handleDownDocumento(){_handleDownDocumento=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var novoDocumento,formData,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;novoDocumento=new Documento('',props.documento.secao,props.documento.posicao);formData=new FormData();formData.append('data',JSON.stringify(novoDocumento));formData.append('method','down');_context.next=8;return axios.post(API_URL_UPDATE_DOCUMENTO+props.documento.codigo,formData);case 8:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.status==='success'){setMessagem(data.response);props.setCarregarBalancetes(true);}else{setMessagem(\"Erro Down do Registro: \"+data.response);console.log(messagem);}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);setMessagem(\"Erro Down do Registro: \"+_context.t0.message);console.log(messagem);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return _handleDownDocumento.apply(this,arguments);}return/*#__PURE__*/_jsx(FontAwesomeIcon,{className:'btn btn-outline-dark btn-sm',onClick:handleDownDocumento,icon:faSortDown});}export default DownDocumento;","map":{"version":3,"names":["useState","FontAwesomeIcon","faSortDown","Button","Modal","axios","Documento","DownDocumento","props","API_URL_UPDATE_DOCUMENTO","messagem","setMessagem","handleDownDocumento","event","preventDefault","novoDocumento","documento","secao","posicao","formData","FormData","append","JSON","stringify","post","codigo","data","status","response","setCarregarBalancetes","console","log","message"],"sources":["C:/Users/anderson/Documents/instituto-itaquere/dashboard/src/components/balancetes/lista/down-documento.js"],"sourcesContent":["import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {  \r\n    faSortDown\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { \r\n    Button,\r\n    Modal\r\n} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport Documento from '../../../models/documento.model';\r\n\r\nfunction DownDocumento(props) {\r\n\r\n    const API_URL_UPDATE_DOCUMENTO = 'http://www.institutoitaquere.org.br/restful/documento/';\r\n\r\n    const [messagem, setMessagem] = useState('');\r\n\r\n    async function handleDownDocumento(event){\r\n        event.preventDefault();\r\n        try {\r\n            const novoDocumento = new Documento('', props.documento.secao, props.documento.posicao);\r\n            const formData = new FormData();\r\n            formData.append('data', JSON.stringify(novoDocumento));\r\n            formData.append('method', 'down');\r\n            let { data } = await axios.post(API_URL_UPDATE_DOCUMENTO + props.documento.codigo, formData);\r\n            if(data.status==='success'){\r\n                setMessagem(data.response);\r\n                props.setCarregarBalancetes(true);\r\n            } else {\r\n                setMessagem(\"Erro Down do Registro: \" + data.response);\r\n                console.log(messagem);\r\n            }\r\n        } catch(err) {\r\n            setMessagem(\"Erro Down do Registro: \" + err.message);\r\n            console.log(messagem);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <FontAwesomeIcon\r\n            className={'btn btn-outline-dark btn-sm'}\r\n            onClick={handleDownDocumento} \r\n            icon={faSortDown} />\r\n    );\r\n}\r\n\r\nDownDocumento.propTypes = {\r\n    documento: PropTypes.object.isRequired,\r\n    setCarregarBalancetes: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default DownDocumento;"],"mappings":"0bAAA,OAASA,QAAT,KAAyB,OAAzB,CAEA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OACIC,UADJ,KAEO,mCAFP,CAGA,OACIC,MADJ,CAEIC,KAFJ,KAGO,iBAHP,CAIA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,UAAP,KAAsB,iCAAtB,C,2CAEA,QAASC,cAAT,CAAuBC,KAAvB,CAA8B,CAE1B,GAAMC,yBAAwB,CAAG,wDAAjC,CAEA,cAAgCT,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eAJ0B,QAMXC,oBANW,uKAM1B,iBAAmCC,KAAnC,sKACIA,KAAK,CAACC,cAAN,GADJ,gBAGcC,aAHd,CAG8B,GAAIT,UAAJ,CAAc,EAAd,CAAkBE,KAAK,CAACQ,SAAN,CAAgBC,KAAlC,CAAyCT,KAAK,CAACQ,SAAN,CAAgBE,OAAzD,CAH9B,CAIcC,QAJd,CAIyB,GAAIC,SAAJ,EAJzB,CAKQD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBC,IAAI,CAACC,SAAL,CAAeR,aAAf,CAAxB,EACAI,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAA0B,MAA1B,EANR,sBAO6BhB,MAAK,CAACmB,IAAN,CAAWf,wBAAwB,CAAGD,KAAK,CAACQ,SAAN,CAAgBS,MAAtD,CAA8DN,QAA9D,CAP7B,wCAOcO,IAPd,mBAOcA,IAPd,CAQQ,GAAGA,IAAI,CAACC,MAAL,GAAc,SAAjB,CAA2B,CACvBhB,WAAW,CAACe,IAAI,CAACE,QAAN,CAAX,CACApB,KAAK,CAACqB,qBAAN,CAA4B,IAA5B,EACH,CAHD,IAGO,CACHlB,WAAW,CAAC,0BAA4Be,IAAI,CAACE,QAAlC,CAAX,CACAE,OAAO,CAACC,GAAR,CAAYrB,QAAZ,EACH,CAdT,iFAgBQC,WAAW,CAAC,0BAA4B,YAAIqB,OAAjC,CAAX,CACAF,OAAO,CAACC,GAAR,CAAYrB,QAAZ,EAjBR,qEAN0B,sDA2B1B,mBACI,KAAC,eAAD,EACI,SAAS,CAAE,6BADf,CAEI,OAAO,CAAEE,mBAFb,CAGI,IAAI,CAAEV,UAHV,EADJ,CAMH,CAOD,cAAeK,cAAf"},"metadata":{},"sourceType":"module"}